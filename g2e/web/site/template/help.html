<section id='installation'>
    <h2>Installation</h2>
    <p>Click <a href='https://chrome.google.com/webstore/detail/geo2enrichr/pcbdeobileclecleblcnadplfcicfjlp' target='_blank'>here</a> to install GEO2Enrichr as an extension in your Chrome browser.</p>
    <p>Clicking the <strong>+FREE</strong> button will install and activate the application. The Chrome Web Store will ask you to accept GEO2Enrichr's permission settings. The GEO2Enrichr application needs permission to make HTTP requests to our server for processing the dataset you will select when interacting with entries listed on the GEO site.</p>
</section>

<section id='tutorial'>
    <h2>Tutorial</h2>
    <p>GEO2Enrichr works by embedding additional functionality into relevant GEO pages that you visit. For example, after installing the Chrome Extension, visiting the page <a href='http://www.ncbi.nlm.nih.gov/sites/GDSbrowser?acc=GDS5077' target='_blank'>GDS5077</a> and clicking "Compare 2 sets of samples", you should see a new hypertext that says <strong>"Pipe to Enrichr"</strong> (Fig. 1).</p>
    <img src='image/screenshot-embedded.png'/>
    <p class='caption'>Fig. 1 Screenshot that shows how GEO2Enrichr adds an additional step to the GEO datasets pipeline.</p>
    <p>If you immediately click that hypertext, you will receive a warning: "Please select 2 or more control samples." This warning occurs because GEO2Enrichr needs you to specify the datasets that you would like to download, process, and analyze. Click <strong>"Select which Samples to put in Group A and Group B"</strong> and select two groups of samples: control samples on the left and treatment/condition samples on the right. In this example, GSM1071454 and GSM1071455 are the control samples and GSM1071457 and GSM1071457 are the treatment or condition samples (Fig. 2). It is important that the control samples are selected on the left and treatment samples are selected on the right because this information is used to determine the up-regulated and down-regulated genes direction.</p>
    <img src='image/screenshot-samples.png'/>
    <p class='caption'>Fig. 2 Screenshot to show how to identify the control and treatment/condition samples on the GEO datasets site.</p>
    <p>Now you can open GEO2Enrichr. Click <strong>Pipe to Enrichr</strong> to see the application's main modal dialog box (Fig. 3).</p>
    <img src='image/screenshot-modal.png'/>
    <p class='caption'>Fig. 3 Screenshot of the GEO2Enrichr main modal dialog box.</p>
    <p>The GEO2Enrichr application <a href='http://en.wikipedia.org/wiki/Data_scraping#Screen_scraping' target='_blank'>screen scrapes</a> the GEO webpage for relevant data including the data the user selected. Please confirm that the accession number, platform, organism, and sample files are all correct. You can edit the first three fields by clicking on their text. If you need to change the sample selection, you must close GEO2Enrichr and re-select the samples via the GEO dataset interactive interface (Step 2).</p>
    <p>Please fill in any metadata about the experiment, such as cell type or tissue, perturbation, and manipulated gene (if relevant). This metadata will be used to annotate your downloadable filenames and a description that uses this information will be sent to Enrichr.</p>
    <p>Finally, click the <strong>Submit samples</strong> button to submit your data selection to GEO2Enrichr for data processing. Depending on the size of SOFT files and the number of samples you selected, this can take anywhere from a few seconds to a minute or two. A progress bar will keep you updated on the progress. Once the processing is complete, the output will show three links to Enrichr, one for up genes, one for down genes, and one for both up and down combined. In addition to these buttons, you will be provided with a button to download your gene lists as text files.</p>
</section>

<section id='processing'>
    <h2>Data processing</h2>
    <p>Given sample selection accession numbers, GEO2Enrichr analyzes these samples by performing the following operations:</p>
    <ol id="g2e-process">
        <li>Downloads the associated SOFT file from GEO.</li>
        <li>Discards data with missing values or one-to-many probe-to-gene mappings.</li>
        <li>log2 transforms the data if necessary.</li>
        <li><a href='http://en.wikipedia.org/wiki/Quantile_normalization' target='_blank'>Quantile normalizes</a> the data if necessary.</li>
        <li>Averages multiple probes to single genes.</li>
        <li>Identifies differentially expressed genes with the selected method. The default method is the <a href='http://maayanlab.net/CD/' target='_blank'>characteristic direction</a> method, developed by the Ma'ayan Laboratory and shown to outperform all other popular methods.</li>
        <li>Writes the top and bottom differentially expressed genes into text.</li>
        <li>Pipes the gene lists to <a href='http://amp.pharm.mssm.edu/Enrichr/' target='_blank'>Enrichr</a> for further analysis.</li>
    </ol>
</section>
<section id='api'>
    <h2>API</h2>
    <p>GEO2Enrichr can be accessed programmatically using APIs.</p>
    <p>All requests should go to the <span class='underline'>http://amp.pharm.mssm.edu/g2e/full</span> endpoint:</p>
    <!-- http://localhost:8083/g2e/full?accession=GDS5077&platform=GPL10558&control=GSM1071454-GSM1071455&experimental=GSM1071457-GSM1071456 -->
    <table>
        <caption>Required arguments</caption>
        <tr>
            <td>accession</td>
            <td>A valid <a href='http://en.wikipedia.org/wiki/Accession_number_%28bioinformatics%29' target='_blank'>accession number</a> for GEO, e.g. <span class='mono'>accession=GDS5077</span>.</td>
        </tr>
        <tr>
            <td>platform</td>
            <td>The associated platform for a given accession number, e.g. <span class='mono'>platform=GPL10558</span>.</td>
        </tr>
        <tr>
            <td>control</td>
            <td>A hyphen-separated list of GSM files, e.g.<span class='mono'>control=GSM1071454-GSM1071455</span></td>
        </tr>
        <tr>
            <td>experimental</td>
            <td>A hyphen-separated list of GSM files, e.g.<span class='mono'>experimental=GSM1071457-GSM1071456</span></td>
        </tr>
    </table>
    <table>
        <caption>Optional arguments</caption>
        <tr>
            <td>organism</td>
            <td>An organism, e.g. <span class='mono'>organism=homo+sapiens</span>.<em> Note that GEO2Enrichr and Enrichr currently only support human and mouse genes</em>.</td>
        </tr>
        <tr>
            <td>cell</td>
            <td>The cell or tissue type used in the experiment, e.g. <span class='mono'>cell=RUES2</span>.</td>
        </tr>
        <tr>
            <td>perturbation</td>
            <td>A perturbation, e.g. <span class='mono'>perturbation=depleted+TMEM88</span></td>
        </tr>
        <tr>
            <td>gene</td>
            <td>If relevant, the manipulated gene.</td>
        </tr>
    </table>
    <table>
        <caption>Example</caption>
        <tr>
            <td>Valid request</td>
            <td><span class='mono'>http://amp.pharm.mssm.edu/g2e/full?accession=GDS5077&platform=GPL10558&control=GSM1071454-GSM1071455&experimental=GSM1071457-GSM1071456</span></td>
        </tr>
    </table>
</section>
